<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<bean id="default" class="com.example.spring.provider.spring1_5.beans.factory.xml.FactoryMethods"
		factory-method="defaultInstance">
		<!-- No constructor-arg elements -->
		
		<property name="stringValue"><value>setterString</value></property>
	</bean>

	<bean id="defaultTestBean" factory-bean="default" factory-method="getTestBean"/> 

	<bean id="testBeanOnly" class="com.example.spring.provider.spring1_5.beans.factory.xml.FactoryMethods"
		factory-method="newInstance">
		<constructor-arg><ref local="juergen"/></constructor-arg>
	</bean>

	<bean id="full" class="com.example.spring.provider.spring1_5.beans.factory.xml.FactoryMethods"
			factory-method="newInstance">
		<constructor-arg index="0"><ref local="juergen"/></constructor-arg>
		<constructor-arg index="1"><value>27</value></constructor-arg>
		<constructor-arg index="2"><value>gotcha</value></constructor-arg>
	</bean>
	
	<bean id="defaultPrototype" 
		class="com.example.spring.provider.spring1_5.beans.factory.xml.FactoryMethods"
		singleton="false"
		factory-method="defaultInstance">
		<!-- No constructor-arg elements -->
		
		<property name="stringValue"><value>setterString</value></property>
	</bean>

	<bean id="testBeanOnlyPrototype" 
		class="com.example.spring.provider.spring1_5.beans.factory.xml.FactoryMethods"
		factory-method="newInstance"
		singleton="false"
	>
		<constructor-arg><ref local="juergen"/></constructor-arg>
		
		<property name="stringValue"><value>testBeanOnlyPrototypeDISetterString</value></property>
	</bean>

	<bean id="fullPrototype" 
			class="com.example.spring.provider.spring1_5.beans.factory.xml.FactoryMethods"
			factory-method="newInstance"
			singleton="false"
		>
		<constructor-arg index="0"><ref local="juergen"/></constructor-arg>
		<constructor-arg index="1"><value>27</value></constructor-arg>
		<constructor-arg index="2"><value>gotcha</value></constructor-arg>
	</bean>
	
	<bean id="noMatchPrototype" 
			class="com.example.spring.provider.spring1_5.beans.factory.xml.FactoryMethods"
			factory-method="newInstance"
			singleton="false"
		>
		<constructor-arg index="0"><ref local="juergen"/></constructor-arg>
		<constructor-arg index="1"><value>27</value></constructor-arg>
		<constructor-arg index="2"><value>gotcha</value></constructor-arg>
		<constructor-arg index="3"><value>bogus</value></constructor-arg>
	</bean>

	<bean id="juergen" class="com.example.spring.provider.spring1_5.beans.TestBean">
		<property name="name"><value>Juergen</value></property>
	</bean>

	<!--
		The class is the factory class, not the created class.
	-->
	<bean id="externalFactoryMethodWithoutArgs" 
			class="com.example.spring.provider.spring1_5.beans.factory.xml.TestBeanCreator"
			factory-method="createTestBean">
	</bean>
	
	<bean id="externalFactoryMethodWithArgs" class="com.example.spring.provider.spring1_5.beans.factory.xml.TestBeanCreator"
			factory-method="createTestBean">
		<constructor-arg index="0"><value>Rod</value></constructor-arg>
		<constructor-arg index="1"><value>33</value></constructor-arg>
	</bean>
	
	
	<bean id="instanceFactoryMethodWithoutArgs" 
			factory-bean="instanceFactory"
			factory-method="defaultInstance">
	</bean>
	
	<bean id="instanceFactory" class="com.example.spring.provider.spring1_5.beans.factory.xml.InstanceFactory" singleton="false">
		<property name="factoryBeanProperty"><value>instanceFactory</value></property>
	</bean>

</beans>
